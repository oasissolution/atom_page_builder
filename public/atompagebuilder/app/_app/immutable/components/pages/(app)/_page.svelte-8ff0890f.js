import{S as de,i as _e,s as pe,k as _,q as S,l as p,m as h,r as y,h as u,n as b,b as C,K as f,u as B,C as R,L as V,a as w,c as k,t as $,d as he,f as G,_ as Ie,o as Te,g as me,v as Ve,w as X,x as Y,e as J,y as Ge,z as ee,A as te,Z as Je,p as le}from"../../../chunks/index-71d26060.js";import{d as He,a as ue,g as xe,j as Le,k as Fe,u as We,U as Ne,c as Oe,E as De,h as Me}from"../../../chunks/globalfunctions-78bfe27e.js";function Ue(s){let e,t,l=JSON.stringify(s[0],null,2)+"",o;return{c(){e=_("div"),t=_("pre"),o=S(l),this.h()},l(i){e=p(i,"DIV",{class:!0});var r=h(e);t=p(r,"PRE",{});var n=h(t);o=y(n,l),n.forEach(u),r.forEach(u),this.h()},h(){b(e,"class","w-full")},m(i,r){C(i,e,r),f(e,t),f(t,o)},p(i,[r]){r&1&&l!==(l=JSON.stringify(i[0],null,2)+"")&&B(o,l)},i:R,o:R,d(i){i&&u(e)}}}function Ae(s,e,t){let l;return V(s,He,o=>t(0,l=o)),[l]}class Re extends de{constructor(e){super(),_e(this,e,Ae,Ue,pe,{})}}function qe(s){let e,t,l,o,i,r,n,c,d,v,W,N,P,O=JSON.stringify(s[0],null,2)+"",D,H,a,I,re,oe,T,x=JSON.stringify(s[1],null,2)+"",j,ne,L,ie,se,F,M=JSON.stringify(s[2],null,2)+"",z,ae,U,ce,fe,A,q=JSON.stringify(s[3],null,2)+"",K;return{c(){e=_("div"),t=_("h1"),l=S("Hello this is variables page"),o=w(),i=_("button"),r=S("Test Button"),n=w(),c=_("div"),d=_("div"),v=_("h4"),W=S("Global Editor Preferences"),N=w(),P=_("pre"),D=S(O),H=w(),a=_("div"),I=_("h4"),re=S("Global Visibility"),oe=w(),T=_("pre"),j=S(x),ne=w(),L=_("h4"),ie=S("Global Right Panel Content Store"),se=w(),F=_("pre"),z=S(M),ae=w(),U=_("h4"),ce=S("Global Left Panel Content Store"),fe=w(),A=_("pre"),K=S(q),this.h()},l(m){e=p(m,"DIV",{class:!0});var g=h(e);t=p(g,"H1",{class:!0});var be=h(t);l=y(be,"Hello this is variables page"),be.forEach(u),o=k(g),i=p(g,"BUTTON",{class:!0});var ge=h(i);r=y(ge,"Test Button"),ge.forEach(u),g.forEach(u),n=k(m),c=p(m,"DIV",{class:!0});var Z=h(c);d=p(Z,"DIV",{class:!0});var Q=h(d);v=p(Q,"H4",{});var Ee=h(v);W=y(Ee,"Global Editor Preferences"),Ee.forEach(u),N=k(Q),P=p(Q,"PRE",{});var ve=h(P);D=y(ve,O),ve.forEach(u),Q.forEach(u),H=k(Z),a=p(Z,"DIV",{class:!0});var E=h(a);I=p(E,"H4",{});var Se=h(I);re=y(Se,"Global Visibility"),Se.forEach(u),oe=k(E),T=p(E,"PRE",{});var ye=h(T);j=y(ye,x),ye.forEach(u),ne=k(E),L=p(E,"H4",{});var Ce=h(L);ie=y(Ce,"Global Right Panel Content Store"),Ce.forEach(u),se=k(E),F=p(E,"PRE",{});var Pe=h(F);z=y(Pe,M),Pe.forEach(u),ae=k(E),U=p(E,"H4",{});var we=h(U);ce=y(we,"Global Left Panel Content Store"),we.forEach(u),fe=k(E),A=p(E,"PRE",{});var ke=h(A);K=y(ke,q),ke.forEach(u),E.forEach(u),Z.forEach(u),this.h()},h(){b(t,"class","text-2xl"),b(i,"class","btn btn-info"),b(e,"class","w-full"),b(d,"class",""),b(a,"class",""),b(c,"class","flex columns-0 lg:columns-2")},m(m,g){C(m,e,g),f(e,t),f(t,l),f(e,o),f(e,i),f(i,r),C(m,n,g),C(m,c,g),f(c,d),f(d,v),f(v,W),f(d,N),f(d,P),f(P,D),f(c,H),f(c,a),f(a,I),f(I,re),f(a,oe),f(a,T),f(T,j),f(a,ne),f(a,L),f(L,ie),f(a,se),f(a,F),f(F,z),f(a,ae),f(a,U),f(U,ce),f(a,fe),f(a,A),f(A,K)},p(m,[g]){g&1&&O!==(O=JSON.stringify(m[0],null,2)+"")&&B(D,O),g&2&&x!==(x=JSON.stringify(m[1],null,2)+"")&&B(j,x),g&4&&M!==(M=JSON.stringify(m[2],null,2)+"")&&B(z,M),g&8&&q!==(q=JSON.stringify(m[3],null,2)+"")&&B(K,q)},i:R,o:R,d(m){m&&u(e),m&&u(n),m&&u(c)}}}function Be(s,e,t){let l,o,i,r;return V(s,ue,n=>t(0,l=n)),V(s,xe,n=>t(1,o=n)),V(s,Le,n=>t(2,i=n)),V(s,Fe,n=>t(3,r=n)),[l,o,i,r]}class $e extends de{constructor(e){super(),_e(this,e,Be,qe,pe,{})}}function je(s){let e,t,l;var o=$e;function i(r){return{}}return o&&(e=X(o,i())),{c(){e&&Y(e.$$.fragment),t=J()},l(r){e&&Ge(e.$$.fragment,r),t=J()},m(r,n){e&&ee(e,r,n),C(r,t,n),l=!0},p(r,n){if(o!==(o=$e)){if(e){me();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}o?(e=X(o,i()),Y(e.$$.fragment),G(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}},i(r){l||(e&&G(e.$$.fragment,r),l=!0)},o(r){e&&$(e.$$.fragment,r),l=!1},d(r){r&&u(t),e&&te(e,r)}}}function ze(s){let e,t,l;var o=Re;function i(r){return{}}return o&&(e=X(o,i())),{c(){e&&Y(e.$$.fragment),t=J()},l(r){e&&Ge(e.$$.fragment,r),t=J()},m(r,n){e&&ee(e,r,n),C(r,t,n),l=!0},p(r,n){if(o!==(o=Re)){if(e){me();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}o?(e=X(o,i()),Y(e.$$.fragment),G(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}},i(r){l||(e&&G(e.$$.fragment,r),l=!0)},o(r){e&&$(e.$$.fragment,r),l=!1},d(r){r&&u(t),e&&te(e,r)}}}function Ke(s){let e;function t(i,r){return i[3]=="release"?Qe:Ze}let o=t(s)(s);return{c(){o.c(),e=J()},l(i){o.l(i),e=J()},m(i,r){o.m(i,r),C(i,e,r)},p(i,r){o.p(i,r)},i:R,o:R,d(i){o.d(i),i&&u(e)}}}function Ze(s){let e,t;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),h(e).forEach(u),this.h()},h(){b(e,"id","editorFrame"),Je(e.src,t="/editor")||b(e,"src",t),b(e,"title","Editor"),b(e,"class"," svelte-1dxbx4d"),le(e,"--editorWidth",s[1].editorData.editorWidth)},m(l,o){C(l,e,o),s[8](e)},p(l,o){o&2&&le(e,"--editorWidth",l[1].editorData.editorWidth)},d(l){l&&u(e),s[8](null)}}}function Qe(s){let e,t;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),h(e).forEach(u),this.h()},h(){b(e,"id","editorFrame"),Je(e.src,t="editor.html")||b(e,"src",t),b(e,"title","Editor"),b(e,"class"," svelte-1dxbx4d"),le(e,"--editorWidth",s[1].editorData.editorWidth)},m(l,o){C(l,e,o),s[7](e)},p(l,o){o&2&&le(e,"--editorWidth",l[1].editorData.editorWidth)},d(l){l&&u(e),s[7](null)}}}function Xe(s){let e,t,l,o;const i=[Ke,ze,je],r=[];function n(c,d){return c[2]==De.PAGE?0:c[2]==De.CODE?1:2}return t=n(s),l=r[t]=i[t](s),{c(){e=_("div"),l.c(),this.h()},l(c){e=p(c,"DIV",{id:!0});var d=h(e);l.l(d),d.forEach(u),this.h()},h(){b(e,"id","frame")},m(c,d){C(c,e,d),r[t].m(e,null),o=!0},p(c,[d]){let v=t;t=n(c),t===v?r[t].p(c,d):(me(),$(r[v],1,1,()=>{r[v]=null}),he(),l=r[t],l?l.p(c,d):(l=r[t]=i[t](c),l.c()),G(l,1),l.m(e,null))},i(c){o||(G(l),o=!0)},o(c){$(l),o=!1},d(c){c&&u(e),r[t].d()}}}function Ye(s,e,t){let l,o,i,r;V(s,ue,a=>t(1,l=a)),V(s,He,a=>t(6,o=a)),V(s,Oe,a=>t(10,i=a)),V(s,Me,a=>t(2,r=a));let n,c=l,d=i,v=c.build,W=!1;function N(){if(W==!0&&n!==null&&n!==void 0){const a={message:{componentCollection:o,editorPreferences:l}};n.contentWindow!=null&&n.contentWindow.postMessage(a,"*")}}let P="";Ie("updateEditor",{updateEditor:()=>{console.log("editor updated from child component"),N()}}),Te(()=>{window.addEventListener("message",a=>{P!=""&&We(o,P,!1,null,"selected",Ne.SET,"")&&N(),t(4,d=a.data),We(o,a.data,!0,null,"selected",Ne.SET,"")&&N(),P=a.data}),t(5,W=!0),n.addEventListener("load",()=>{const a={message:{componentCollection:o,editorPreferences:l}};n.contentWindow!=null&&n.contentWindow.postMessage(a,"*")})});function D(a){Ve[a?"unshift":"push"](()=>{n=a,t(0,n)})}function H(a){Ve[a?"unshift":"push"](()=>{n=a,t(0,n)})}return s.$$.update=()=>{s.$$.dirty&16&&Oe.set(d),s.$$.dirty&99&&(()=>{if(W==!0&&n!==null&&n!==void 0){const a={message:{componentCollection:o,editorPreferences:l}};n.contentWindow!=null&&n.contentWindow.postMessage(a,"*")}})()},ue.set(c),[n,l,r,v,d,W,o,D,H]}class lt extends de{constructor(e){super(),_e(this,e,Ye,Xe,pe,{})}}export{lt as default};
