import{S as ue,i as de,s as _e,k as _,q as y,l as p,m as h,r as P,h as f,n as S,b as k,K as a,u as B,C as O,L as V,a as C,c as w,t as J,d as pe,f as R,o as Ge,g as he,v as xe,w as j,x as Q,e as X,y as Re,z as Z,A as ee,Y as He,p as Ve}from"../../../chunks/index-73153463.js";import{d as De,a as fe,g as Ie,h as Le,i as We,c as Ne,E as ke,e as Te}from"../../../chunks/globalstores-e6a1fab6.js";function Me(i){let e,t,l=JSON.stringify(i[0],null,2)+"",o;return{c(){e=_("div"),t=_("pre"),o=y(l),this.h()},l(c){e=p(c,"DIV",{class:!0});var r=h(e);t=p(r,"PRE",{});var n=h(t);o=P(n,l),n.forEach(f),r.forEach(f),this.h()},h(){S(e,"class","w-full")},m(c,r){k(c,e,r),a(e,t),a(t,o)},p(c,[r]){r&1&&l!==(l=JSON.stringify(c[0],null,2)+"")&&B(o,l)},i:O,o:O,d(c){c&&f(e)}}}function qe(i,e,t){let l;return V(i,De,o=>t(0,l=o)),[l]}class Oe extends ue{constructor(e){super(),de(this,e,qe,Me,_e,{})}}function Ae(i){let e,t,l,o,c,r,n,s,d,b,N,D,u,G=JSON.stringify(i[0],null,2)+"",F,te,m,x,le,re,H,I=JSON.stringify(i[1],null,2)+"",U,oe,L,ne,se,W,T=JSON.stringify(i[2],null,2)+"",$,ie,M,ae,ce,q,A=JSON.stringify(i[3],null,2)+"",z;return{c(){e=_("div"),t=_("h1"),l=y("Hello this is variables page"),o=C(),c=_("button"),r=y("Test Button"),n=C(),s=_("div"),d=_("div"),b=_("h4"),N=y("Global Editor Preferences"),D=C(),u=_("pre"),F=y(G),te=C(),m=_("div"),x=_("h4"),le=y("Global Visibility"),re=C(),H=_("pre"),U=y(I),oe=C(),L=_("h4"),ne=y("Global Right Panel Content Store"),se=C(),W=_("pre"),$=y(T),ie=C(),M=_("h4"),ae=y("Global Left Panel Content Store"),ce=C(),q=_("pre"),z=y(A),this.h()},l(g){e=p(g,"DIV",{class:!0});var E=h(e);t=p(E,"H1",{class:!0});var me=h(t);l=P(me,"Hello this is variables page"),me.forEach(f),o=w(E),c=p(E,"BUTTON",{class:!0});var ge=h(c);r=P(ge,"Test Button"),ge.forEach(f),E.forEach(f),n=w(g),s=p(g,"DIV",{class:!0});var K=h(s);d=p(K,"DIV",{class:!0});var Y=h(d);b=p(Y,"H4",{});var be=h(b);N=P(be,"Global Editor Preferences"),be.forEach(f),D=w(Y),u=p(Y,"PRE",{});var Ee=h(u);F=P(Ee,G),Ee.forEach(f),Y.forEach(f),te=w(K),m=p(K,"DIV",{class:!0});var v=h(m);x=p(v,"H4",{});var ve=h(x);le=P(ve,"Global Visibility"),ve.forEach(f),re=w(v),H=p(v,"PRE",{});var Se=h(H);U=P(Se,I),Se.forEach(f),oe=w(v),L=p(v,"H4",{});var ye=h(L);ne=P(ye,"Global Right Panel Content Store"),ye.forEach(f),se=w(v),W=p(v,"PRE",{});var Pe=h(W);$=P(Pe,T),Pe.forEach(f),ie=w(v),M=p(v,"H4",{});var Ce=h(M);ae=P(Ce,"Global Left Panel Content Store"),Ce.forEach(f),ce=w(v),q=p(v,"PRE",{});var we=h(q);z=P(we,A),we.forEach(f),v.forEach(f),K.forEach(f),this.h()},h(){S(t,"class","text-2xl"),S(c,"class","btn btn-info"),S(e,"class","w-full"),S(d,"class",""),S(m,"class",""),S(s,"class","flex columns-0 lg:columns-2")},m(g,E){k(g,e,E),a(e,t),a(t,l),a(e,o),a(e,c),a(c,r),k(g,n,E),k(g,s,E),a(s,d),a(d,b),a(b,N),a(d,D),a(d,u),a(u,F),a(s,te),a(s,m),a(m,x),a(x,le),a(m,re),a(m,H),a(H,U),a(m,oe),a(m,L),a(L,ne),a(m,se),a(m,W),a(W,$),a(m,ie),a(m,M),a(M,ae),a(m,ce),a(m,q),a(q,z)},p(g,[E]){E&1&&G!==(G=JSON.stringify(g[0],null,2)+"")&&B(F,G),E&2&&I!==(I=JSON.stringify(g[1],null,2)+"")&&B(U,I),E&4&&T!==(T=JSON.stringify(g[2],null,2)+"")&&B($,T),E&8&&A!==(A=JSON.stringify(g[3],null,2)+"")&&B(z,A)},i:O,o:O,d(g){g&&f(e),g&&f(n),g&&f(s)}}}function Be(i,e,t){let l,o,c,r;return V(i,fe,n=>t(0,l=n)),V(i,Ie,n=>t(1,o=n)),V(i,Le,n=>t(2,c=n)),V(i,We,n=>t(3,r=n)),[l,o,c,r]}class Je extends ue{constructor(e){super(),de(this,e,Be,Ae,_e,{})}}function Fe(i){let e,t,l;var o=Je;function c(r){return{}}return o&&(e=j(o,c())),{c(){e&&Q(e.$$.fragment),t=X()},l(r){e&&Re(e.$$.fragment,r),t=X()},m(r,n){e&&Z(e,r,n),k(r,t,n),l=!0},p(r,n){if(o!==(o=Je)){if(e){he();const s=e;J(s.$$.fragment,1,0,()=>{ee(s,1)}),pe()}o?(e=j(o,c()),Q(e.$$.fragment),R(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}},i(r){l||(e&&R(e.$$.fragment,r),l=!0)},o(r){e&&J(e.$$.fragment,r),l=!1},d(r){r&&f(t),e&&ee(e,r)}}}function Ue(i){let e,t,l;var o=Oe;function c(r){return{}}return o&&(e=j(o,c())),{c(){e&&Q(e.$$.fragment),t=X()},l(r){e&&Re(e.$$.fragment,r),t=X()},m(r,n){e&&Z(e,r,n),k(r,t,n),l=!0},p(r,n){if(o!==(o=Oe)){if(e){he();const s=e;J(s.$$.fragment,1,0,()=>{ee(s,1)}),pe()}o?(e=j(o,c()),Q(e.$$.fragment),R(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}},i(r){l||(e&&R(e.$$.fragment,r),l=!0)},o(r){e&&J(e.$$.fragment,r),l=!1},d(r){r&&f(t),e&&ee(e,r)}}}function $e(i){let e,t;return{c(){e=_("iframe"),this.h()},l(l){e=p(l,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),h(e).forEach(f),this.h()},h(){S(e,"id","editorFrame"),He(e.src,t="/editor")||S(e,"src",t),S(e,"title","Editor"),S(e,"class"," svelte-1dxbx4d"),Ve(e,"--editorWidth",i[1].editorData.editorWidth)},m(l,o){k(l,e,o),i[6](e)},p(l,o){o&2&&Ve(e,"--editorWidth",l[1].editorData.editorWidth)},i:O,o:O,d(l){l&&f(e),i[6](null)}}}function ze(i){let e,t,l,o;const c=[$e,Ue,Fe],r=[];function n(s,d){return s[2]==ke.PAGE?0:s[2]==ke.CODE?1:2}return t=n(i),l=r[t]=c[t](i),{c(){e=_("div"),l.c(),this.h()},l(s){e=p(s,"DIV",{id:!0});var d=h(e);l.l(d),d.forEach(f),this.h()},h(){S(e,"id","frame")},m(s,d){k(s,e,d),r[t].m(e,null),o=!0},p(s,[d]){let b=t;t=n(s),t===b?r[t].p(s,d):(he(),J(r[b],1,1,()=>{r[b]=null}),pe(),l=r[t],l?l.p(s,d):(l=r[t]=c[t](s),l.c()),R(l,1),l.m(e,null))},i(s){o||(R(l),o=!0)},o(s){J(l),o=!1},d(s){s&&f(e),r[t].d()}}}function Ke(i,e,t){let l,o,c,r;V(i,fe,u=>t(1,l=u)),V(i,De,u=>t(5,o=u)),V(i,Ne,u=>t(7,c=u)),V(i,Te,u=>t(2,r=u));let n,s=l,d=c,b=s.build,N=!1;Ge(()=>{window.addEventListener("message",u=>{t(3,d=u.data)}),t(4,N=!0),n.addEventListener("load",()=>{console.log("Send data on load !");const u={message:{componentCollection:o,editorPreferences:l}};n.contentWindow.postMessage(u,"*")}),b=="release"&&t(0,n.src="/atompagebuilder/app/editor",n)});function D(u){xe[u?"unshift":"push"](()=>{n=u,t(0,n),t(5,o),t(4,N),t(9,b),t(1,l)})}return i.$$.update=()=>{i.$$.dirty&8&&Ne.set(d),i.$$.dirty&51&&(()=>{if(N==!0&&n!==null&&n!==void 0){b=="release"&&n.src!=="/atompagebuilder/app/editor"&&t(0,n.src="/atompagebuilder/app/editor",n),console.log("Send data on globalComponentCollectionStore !");const u={message:{componentCollection:o,editorPreferences:l}};n.contentWindow.postMessage(u,"*")}})()},fe.set(s),[n,l,r,d,N,o,D]}class Qe extends ue{constructor(e){super(),de(this,e,Ke,ze,_e,{})}}export{Qe as default};
