import{S as ue,i as de,s as pe,k as p,q as y,l as _,m,r as P,h as f,n as v,b as O,K as a,u as q,C as R,L as k,a as V,c as N,t as W,d as _e,f as D,o as He,g as me,v as Te,w as j,x as Q,e as X,y as We,z as Z,A as ee,Y as xe,p as Ve}from"../../../chunks/index-0559a43f.js";import{d as De,a as fe,g as Ie,h as Le,i as Ue,c as Ne,E as ke,e as Me}from"../../../chunks/selectorstores-72b91c6e.js";import{u as Oe,U as Ge}from"../../../chunks/globalfunctions-33e78ff1.js";function Ae(i){let e,t,l=JSON.stringify(i[0],null,2)+"",n;return{c(){e=p("div"),t=p("pre"),n=y(l),this.h()},l(c){e=_(c,"DIV",{class:!0});var r=m(e);t=_(r,"PRE",{});var o=m(t);n=P(o,l),o.forEach(f),r.forEach(f),this.h()},h(){v(e,"class","w-full")},m(c,r){O(c,e,r),a(e,t),a(t,n)},p(c,[r]){r&1&&l!==(l=JSON.stringify(c[0],null,2)+"")&&q(n,l)},i:R,o:R,d(c){c&&f(e)}}}function Fe(i,e,t){let l;return k(i,De,n=>t(0,l=n)),[l]}class Je extends ue{constructor(e){super(),de(this,e,Fe,Ae,pe,{})}}function qe(i){let e,t,l,n,c,r,o,s,d,b,C,J,w,G=JSON.stringify(i[0],null,2)+"",u,te,h,H,le,re,T,x=JSON.stringify(i[1],null,2)+"",B,oe,I,ne,se,L,U=JSON.stringify(i[2],null,2)+"",z,ie,M,ae,ce,A,F=JSON.stringify(i[3],null,2)+"",K;return{c(){e=p("div"),t=p("h1"),l=y("Hello this is variables page"),n=V(),c=p("button"),r=y("Test Button"),o=V(),s=p("div"),d=p("div"),b=p("h4"),C=y("Global Editor Preferences"),J=V(),w=p("pre"),u=y(G),te=V(),h=p("div"),H=p("h4"),le=y("Global Visibility"),re=V(),T=p("pre"),B=y(x),oe=V(),I=p("h4"),ne=y("Global Right Panel Content Store"),se=V(),L=p("pre"),z=y(U),ie=V(),M=p("h4"),ae=y("Global Left Panel Content Store"),ce=V(),A=p("pre"),K=y(F),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=m(e);t=_(E,"H1",{class:!0});var he=m(t);l=P(he,"Hello this is variables page"),he.forEach(f),n=N(E),c=_(E,"BUTTON",{class:!0});var ge=m(c);r=P(ge,"Test Button"),ge.forEach(f),E.forEach(f),o=N(g),s=_(g,"DIV",{class:!0});var Y=m(s);d=_(Y,"DIV",{class:!0});var $=m(d);b=_($,"H4",{});var be=m(b);C=P(be,"Global Editor Preferences"),be.forEach(f),J=N($),w=_($,"PRE",{});var Ee=m(w);u=P(Ee,G),Ee.forEach(f),$.forEach(f),te=N(Y),h=_(Y,"DIV",{class:!0});var S=m(h);H=_(S,"H4",{});var Se=m(H);le=P(Se,"Global Visibility"),Se.forEach(f),re=N(S),T=_(S,"PRE",{});var ve=m(T);B=P(ve,x),ve.forEach(f),oe=N(S),I=_(S,"H4",{});var ye=m(I);ne=P(ye,"Global Right Panel Content Store"),ye.forEach(f),se=N(S),L=_(S,"PRE",{});var Pe=m(L);z=P(Pe,U),Pe.forEach(f),ie=N(S),M=_(S,"H4",{});var Ce=m(M);ae=P(Ce,"Global Left Panel Content Store"),Ce.forEach(f),ce=N(S),A=_(S,"PRE",{});var we=m(A);K=P(we,F),we.forEach(f),S.forEach(f),Y.forEach(f),this.h()},h(){v(t,"class","text-2xl"),v(c,"class","btn btn-info"),v(e,"class","w-full"),v(d,"class",""),v(h,"class",""),v(s,"class","flex columns-0 lg:columns-2")},m(g,E){O(g,e,E),a(e,t),a(t,l),a(e,n),a(e,c),a(c,r),O(g,o,E),O(g,s,E),a(s,d),a(d,b),a(b,C),a(d,J),a(d,w),a(w,u),a(s,te),a(s,h),a(h,H),a(H,le),a(h,re),a(h,T),a(T,B),a(h,oe),a(h,I),a(I,ne),a(h,se),a(h,L),a(L,z),a(h,ie),a(h,M),a(M,ae),a(h,ce),a(h,A),a(A,K)},p(g,[E]){E&1&&G!==(G=JSON.stringify(g[0],null,2)+"")&&q(u,G),E&2&&x!==(x=JSON.stringify(g[1],null,2)+"")&&q(B,x),E&4&&U!==(U=JSON.stringify(g[2],null,2)+"")&&q(z,U),E&8&&F!==(F=JSON.stringify(g[3],null,2)+"")&&q(K,F)},i:R,o:R,d(g){g&&f(e),g&&f(o),g&&f(s)}}}function Be(i,e,t){let l,n,c,r;return k(i,fe,o=>t(0,l=o)),k(i,Ie,o=>t(1,n=o)),k(i,Le,o=>t(2,c=o)),k(i,Ue,o=>t(3,r=o)),[l,n,c,r]}class Re extends ue{constructor(e){super(),de(this,e,Be,qe,pe,{})}}function ze(i){let e,t,l;var n=Re;function c(r){return{}}return n&&(e=j(n,c())),{c(){e&&Q(e.$$.fragment),t=X()},l(r){e&&We(e.$$.fragment,r),t=X()},m(r,o){e&&Z(e,r,o),O(r,t,o),l=!0},p(r,o){if(n!==(n=Re)){if(e){me();const s=e;W(s.$$.fragment,1,0,()=>{ee(s,1)}),_e()}n?(e=j(n,c()),Q(e.$$.fragment),D(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}},i(r){l||(e&&D(e.$$.fragment,r),l=!0)},o(r){e&&W(e.$$.fragment,r),l=!1},d(r){r&&f(t),e&&ee(e,r)}}}function Ke(i){let e,t,l;var n=Je;function c(r){return{}}return n&&(e=j(n,c())),{c(){e&&Q(e.$$.fragment),t=X()},l(r){e&&We(e.$$.fragment,r),t=X()},m(r,o){e&&Z(e,r,o),O(r,t,o),l=!0},p(r,o){if(n!==(n=Je)){if(e){me();const s=e;W(s.$$.fragment,1,0,()=>{ee(s,1)}),_e()}n?(e=j(n,c()),Q(e.$$.fragment),D(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}},i(r){l||(e&&D(e.$$.fragment,r),l=!0)},o(r){e&&W(e.$$.fragment,r),l=!1},d(r){r&&f(t),e&&ee(e,r)}}}function Ye(i){let e,t;return{c(){e=p("iframe"),this.h()},l(l){e=_(l,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),m(e).forEach(f),this.h()},h(){v(e,"id","editorFrame"),xe(e.src,t="/editor")||v(e,"src",t),v(e,"title","Editor"),v(e,"class"," svelte-1dxbx4d"),Ve(e,"--editorWidth",i[1].editorData.editorWidth)},m(l,n){O(l,e,n),i[6](e)},p(l,n){n&2&&Ve(e,"--editorWidth",l[1].editorData.editorWidth)},i:R,o:R,d(l){l&&f(e),i[6](null)}}}function $e(i){let e,t,l,n;const c=[Ye,Ke,ze],r=[];function o(s,d){return s[2]==ke.PAGE?0:s[2]==ke.CODE?1:2}return t=o(i),l=r[t]=c[t](i),{c(){e=p("div"),l.c(),this.h()},l(s){e=_(s,"DIV",{id:!0});var d=m(e);l.l(d),d.forEach(f),this.h()},h(){v(e,"id","frame")},m(s,d){O(s,e,d),r[t].m(e,null),n=!0},p(s,[d]){let b=t;t=o(s),t===b?r[t].p(s,d):(me(),W(r[b],1,1,()=>{r[b]=null}),_e(),l=r[t],l?l.p(s,d):(l=r[t]=c[t](s),l.c()),D(l,1),l.m(e,null))},i(s){n||(D(l),n=!0)},o(s){W(l),n=!1},d(s){s&&f(e),r[t].d()}}}function je(i,e,t){let l,n,c,r;k(i,fe,u=>t(1,l=u)),k(i,De,u=>t(5,n=u)),k(i,Ne,u=>t(8,c=u)),k(i,Me,u=>t(2,r=u));let o,s=l,d=c,b=s.build,C=!1;function J(){if(C==!0&&o!==null&&o!==void 0){b=="release"&&o.src!=="/atompagebuilder/app/editor"&&t(0,o.src="/atompagebuilder/app/editor",o);const u={message:{componentCollection:n,editorPreferences:l}};o.contentWindow!=null&&o.contentWindow.postMessage(u,"*")}}let w="";He(()=>{window.addEventListener("message",u=>{w!=""&&Oe(n,w,!1,null,"selected",Ge.SET,"")&&J(),t(3,d=u.data),Oe(n,u.data,!0,null,"selected",Ge.SET,"")&&J(),w=u.data}),t(4,C=!0),o.addEventListener("load",()=>{const u={message:{componentCollection:n,editorPreferences:l}};o.contentWindow!=null&&o.contentWindow.postMessage(u,"*")}),b=="release"&&t(0,o.src="/atompagebuilder/app/editor",o)});function G(u){Te[u?"unshift":"push"](()=>{o=u,t(0,o),t(5,n),t(4,C),t(10,b),t(1,l)})}return i.$$.update=()=>{i.$$.dirty&8&&Ne.set(d),i.$$.dirty&51&&(()=>{if(C==!0&&o!==null&&o!==void 0){b=="release"&&o.src!=="/atompagebuilder/app/editor"&&t(0,o.src="/atompagebuilder/app/editor",o);const u={message:{componentCollection:n,editorPreferences:l}};o.contentWindow!=null&&o.contentWindow.postMessage(u,"*")}})()},fe.set(s),[o,l,r,d,C,n,G]}class et extends ue{constructor(e){super(),de(this,e,je,$e,pe,{})}}export{et as default};
