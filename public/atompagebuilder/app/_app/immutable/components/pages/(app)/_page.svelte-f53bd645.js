import{S as me,i as _e,s as be,k as h,q as D,l as m,m as _,r as k,h as u,n as P,b as T,K as d,u as j,C as A,L as C,a as I,c as V,t as H,d as ge,f as J,o as Je,g as Ee,v as Ve,w as re,x as ie,e as L,y as Ue,z as ne,A as oe,Z as Ae,p as se}from"../../../chunks/index-a157068e.js";import{e as He,a as he,g as ae,k as Le,l as Be,r as xe,n as $e,o as Me,p as qe,s as Xe,d as Oe,E as We,c as ze,i as Ke,u as Ne,U as Re,q as Ze,t as je,v as Qe,b as le}from"../../../chunks/sweetalert.min-4adf78b6.js";import{v as pe}from"../../../chunks/v4-a960c1f4.js";function Ye(o){let e,l,a=JSON.stringify(o[0],null,2)+"",i;return{c(){e=h("div"),l=h("pre"),i=D(a),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=_(e);l=m(r,"PRE",{});var f=_(l);i=k(f,a),f.forEach(u),r.forEach(u),this.h()},h(){P(e,"class","w-full")},m(n,r){T(n,e,r),d(e,l),d(l,i)},p(n,[r]){r&1&&a!==(a=JSON.stringify(n[0],null,2)+"")&&j(i,a)},i:A,o:A,d(n){n&&u(e)}}}function et(o,e,l){let a;return C(o,He,i=>l(0,a=i)),[a]}class Fe extends me{constructor(e){super(),_e(this,e,et,Ye,be,{})}}function tt(o){let e,l,a,i,n,r,f,s,c,v,N,B,O,g=JSON.stringify(o[0],null,2)+"",W,x,b,R,$,M,F,G=JSON.stringify(o[1],null,2)+"",U,t,p,S,de,q,X=JSON.stringify(o[2],null,2)+"",Q,ce,z,fe,ue,K,Z=JSON.stringify(o[3],null,2)+"",Y;return{c(){e=h("div"),l=h("h1"),a=D("Hello this is variables page"),i=I(),n=h("button"),r=D("Test Button"),f=I(),s=h("div"),c=h("div"),v=h("h4"),N=D("Global Editor Preferences"),B=I(),O=h("pre"),W=D(g),x=I(),b=h("div"),R=h("h4"),$=D("Global Visibility"),M=I(),F=h("pre"),U=D(G),t=I(),p=h("h4"),S=D("Global Right Panel Content Store"),de=I(),q=h("pre"),Q=D(X),ce=I(),z=h("h4"),fe=D("Global Left Panel Content Store"),ue=I(),K=h("pre"),Y=D(Z),this.h()},l(E){e=m(E,"DIV",{class:!0});var y=_(e);l=m(y,"H1",{class:!0});var Pe=_(l);a=k(Pe,"Hello this is variables page"),Pe.forEach(u),i=V(y),n=m(y,"BUTTON",{class:!0});var Se=_(n);r=k(Se,"Test Button"),Se.forEach(u),y.forEach(u),f=V(E),s=m(E,"DIV",{class:!0});var ee=_(s);c=m(ee,"DIV",{class:!0});var te=_(c);v=m(te,"H4",{});var ye=_(v);N=k(ye,"Global Editor Preferences"),ye.forEach(u),B=V(te),O=m(te,"PRE",{});var ve=_(O);W=k(ve,g),ve.forEach(u),te.forEach(u),x=V(ee),b=m(ee,"DIV",{class:!0});var w=_(b);R=m(w,"H4",{});var we=_(R);$=k(we,"Global Visibility"),we.forEach(u),M=V(w),F=m(w,"PRE",{});var De=_(F);U=k(De,G),De.forEach(u),t=V(w),p=m(w,"H4",{});var ke=_(p);S=k(ke,"Global Right Panel Content Store"),ke.forEach(u),de=V(w),q=m(w,"PRE",{});var Ce=_(q);Q=k(Ce,X),Ce.forEach(u),ce=V(w),z=m(w,"H4",{});var Te=_(z);fe=k(Te,"Global Left Panel Content Store"),Te.forEach(u),ue=V(w),K=m(w,"PRE",{});var Ie=_(K);Y=k(Ie,Z),Ie.forEach(u),w.forEach(u),ee.forEach(u),this.h()},h(){P(l,"class","text-2xl"),P(n,"class","btn btn-info"),P(e,"class","w-full"),P(c,"class",""),P(b,"class",""),P(s,"class","flex columns-0 lg:columns-2")},m(E,y){T(E,e,y),d(e,l),d(l,a),d(e,i),d(e,n),d(n,r),T(E,f,y),T(E,s,y),d(s,c),d(c,v),d(v,N),d(c,B),d(c,O),d(O,W),d(s,x),d(s,b),d(b,R),d(R,$),d(b,M),d(b,F),d(F,U),d(b,t),d(b,p),d(p,S),d(b,de),d(b,q),d(q,Q),d(b,ce),d(b,z),d(z,fe),d(b,ue),d(b,K),d(K,Y)},p(E,[y]){y&1&&g!==(g=JSON.stringify(E[0],null,2)+"")&&j(W,g),y&2&&G!==(G=JSON.stringify(E[1],null,2)+"")&&j(U,G),y&4&&X!==(X=JSON.stringify(E[2],null,2)+"")&&j(Q,X),y&8&&Z!==(Z=JSON.stringify(E[3],null,2)+"")&&j(Y,Z)},i:A,o:A,d(E){E&&u(e),E&&u(f),E&&u(s)}}}function lt(o,e,l){let a,i,n,r;return C(o,he,f=>l(0,a=f)),C(o,ae,f=>l(1,i=f)),C(o,Le,f=>l(2,n=f)),C(o,Be,f=>l(3,r=f)),[a,i,n,r]}class Ge extends me{constructor(e){super(),_e(this,e,lt,tt,be,{})}}function at(o){let e,l,a;var i=Ge;function n(r){return{}}return i&&(e=re(i,n())),{c(){e&&ie(e.$$.fragment),l=L()},l(r){e&&Ue(e.$$.fragment,r),l=L()},m(r,f){e&&ne(e,r,f),T(r,l,f),a=!0},p(r,f){if(i!==(i=Ge)){if(e){Ee();const s=e;H(s.$$.fragment,1,0,()=>{oe(s,1)}),ge()}i?(e=re(i,n()),ie(e.$$.fragment),J(e.$$.fragment,1),ne(e,l.parentNode,l)):e=null}},i(r){a||(e&&J(e.$$.fragment,r),a=!0)},o(r){e&&H(e.$$.fragment,r),a=!1},d(r){r&&u(l),e&&oe(e,r)}}}function rt(o){let e,l,a;var i=Fe;function n(r){return{}}return i&&(e=re(i,n())),{c(){e&&ie(e.$$.fragment),l=L()},l(r){e&&Ue(e.$$.fragment,r),l=L()},m(r,f){e&&ne(e,r,f),T(r,l,f),a=!0},p(r,f){if(i!==(i=Fe)){if(e){Ee();const s=e;H(s.$$.fragment,1,0,()=>{oe(s,1)}),ge()}i?(e=re(i,n()),ie(e.$$.fragment),J(e.$$.fragment,1),ne(e,l.parentNode,l)):e=null}},i(r){a||(e&&J(e.$$.fragment,r),a=!0)},o(r){e&&H(e.$$.fragment,r),a=!1},d(r){r&&u(l),e&&oe(e,r)}}}function it(o){let e;function l(n,r){return n[3]=="release"?ot:nt}let i=l(o)(o);return{c(){i.c(),e=L()},l(n){i.l(n),e=L()},m(n,r){i.m(n,r),T(n,e,r)},p(n,r){i.p(n,r)},i:A,o:A,d(n){i.d(n),n&&u(e)}}}function nt(o){let e,l;return{c(){e=h("iframe"),this.h()},l(a){e=m(a,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),_(e).forEach(u),this.h()},h(){P(e,"id","editorFrame"),Ae(e.src,l="/editor")||P(e,"src",l),P(e,"title","Editor"),P(e,"class"," svelte-1dxbx4d"),se(e,"--editorWidth",o[1].editorData.editorWidth)},m(a,i){T(a,e,i),o[8](e)},p(a,i){i&2&&se(e,"--editorWidth",a[1].editorData.editorWidth)},d(a){a&&u(e),o[8](null)}}}function ot(o){let e,l;return{c(){e=h("iframe"),this.h()},l(a){e=m(a,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),_(e).forEach(u),this.h()},h(){P(e,"id","editorFrame"),Ae(e.src,l="editor.html")||P(e,"src",l),P(e,"title","Editor"),P(e,"class"," svelte-1dxbx4d"),se(e,"--editorWidth",o[1].editorData.editorWidth)},m(a,i){T(a,e,i),o[7](e)},p(a,i){i&2&&se(e,"--editorWidth",a[1].editorData.editorWidth)},d(a){a&&u(e),o[7](null)}}}function st(o){let e,l,a,i;const n=[it,rt,at],r=[];function f(s,c){return s[2]==We.PAGE?0:s[2]==We.CODE?1:2}return l=f(o),a=r[l]=n[l](o),{c(){e=h("div"),a.c(),this.h()},l(s){e=m(s,"DIV",{id:!0});var c=_(e);a.l(c),c.forEach(u),this.h()},h(){P(e,"id","frame")},m(s,c){T(s,e,c),r[l].m(e,null),i=!0},p(s,[c]){let v=l;l=f(s),l===v?r[l].p(s,c):(Ee(),H(r[v],1,1,()=>{r[v]=null}),ge(),a=r[l],a?a.p(s,c):(a=r[l]=n[l](s),a.c()),J(a,1),a.m(e,null))},i(s){i||(J(a),i=!0)},o(s){H(a),i=!1},d(s){s&&u(e),r[l].d()}}}function dt(o,e,l){let a,i,n,r,f,s;C(o,ze,t=>l(5,a=t)),C(o,he,t=>l(1,i=t)),C(o,He,t=>l(6,n=t)),C(o,ae,t=>l(11,r=t)),C(o,Oe,t=>l(12,f=t)),C(o,Ke,t=>l(2,s=t));let c,v=i,N=f,B=v.build,O=!1;function g(){if(O==!0&&c!==null&&c!==void 0){const t={message:{componentCollection:n,editorPreferences:i,globalTheme:a}};c.contentWindow!=null&&c.contentWindow.postMessage(t,"*")}}let W="";function x(t){W!=""&&Ne(n,W,!1,null,"selected",Re.SET,"")&&g(),l(4,N=t),Ne(n,t,!0,null,"selected",Re.SET,"")&&g(),W=t}function b(t,p){const S={uuid:pe().toString(),type:p.replace("element-",""),data:{},selected:!1,children:[]};Ze(n,t,S),g()}function R(t,p){const S={uuid:pe().toString(),type:p.replace("element-",""),data:{},selected:!1,children:[]};je(n,S,t),g()}function $(t,p){const S={uuid:pe().toString(),type:p.replace("element-",""),data:{},selected:!1,children:[]};Qe(n,S,t),g()}function M(){let t=r;switch(i.widgetPanelDisplayStyle){case le.FIXEDLEFT:var S=t.left.widgetPanel??!1;for(var p in t.left)p=="widgetPanel"?t.left[p]=!S:t.left[p]=!1;t.right.widgetPanel=!1,t.default.widgetPanel=!1;break;case le.FIXEDRIGHT:var S=t.right.widgetPanel??!1;for(var p in t.right)p=="widgetPanel"?t.right[p]=!S:t.right[p]=!1;t.left.widgetPanel=!1,t.default.widgetPanel=!1;break;default:t.default.widgetPanel=!t.default.widgetPanel,t.right.widgetPanel=!1,t.left.widgetPanel=!1;break}ae.set(t)}function F(){let t=r;switch(i.optionPanelDisplayStyle){case le.FIXEDLEFT:t.left.optionPanel;for(var p in t.left)p=="optionPanel"?t.left[p]=!0:t.left[p]=!1;t.right.optionPanel=!1,t.default.optionPanel=!1;break;case le.FIXEDRIGHT:t.right.optionPanel;for(var p in t.right)p=="optionPanel"?t.right[p]=!0:t.right[p]=!1;t.left.optionPanel=!1,t.default.optionPanel=!1;break;default:t.default.optionPanel=!0,t.right.optionPanel=!1,t.left.optionPanel=!1;break}ae.set(t)}Je(()=>{window.addEventListener("message",t=>{if(t.data)switch(t.data.action){case"selectElement":x(t.data.data.uuid);break;case"createDroppedElementInside":b(t.data.data.uuid,t.data.data.elementType);break;case"deleteElement":qe(n,t.data.data.uuid),g();break;case"toggleWidgetsPanel":M();break;case"openOptionsPanel":F();break;case"replaceDroppedElementInside":Me(n,t.data.data.thisUuid,t.data.data.insideUuid),g();break;case"replaceDroppedElementBefore":$e(n,t.data.data.thisUuid,t.data.data.beforeUuid),g();break;case"replaceDroppedElementAfter":xe(n,t.data.data.thisUuid,t.data.data.afterUuid),g();break;case"createDroppedElementBefore":R(t.data.data.beforeUuid,t.data.data.elementType);break;case"createDroppedElementAfter":$(t.data.data.afterUuid,t.data.data.elementType);break}}),O=!0,c.addEventListener("load",()=>{const t={message:{componentCollection:n,editorPreferences:i,globalTheme:a}};c.contentWindow!=null&&c.contentWindow.postMessage(t,"*")}),c.addEventListener("error",t=>{Xe({title:"Error on Main Panel",text:t.error.toString(),icon:"error"})})});function G(t){Ve[t?"unshift":"push"](()=>{c=t,l(0,c)})}function U(t){Ve[t?"unshift":"push"](()=>{c=t,l(0,c)})}return o.$$.update=()=>{o.$$.dirty&16&&Oe.set(N),o.$$.dirty&64&&g(),o.$$.dirty&32&&g()},he.set(v),[c,i,s,B,N,a,n,G,U]}class pt extends me{constructor(e){super(),_e(this,e,dt,st,be,{})}}export{pt as default};
