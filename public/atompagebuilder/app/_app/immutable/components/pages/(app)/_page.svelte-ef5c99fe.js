import{S as he,i as me,s as _e,k as m,q as v,l as _,m as b,r as D,h as p,n as S,b as T,K as d,u as Y,C as F,L as C,a as V,c as O,t as x,d as be,f as A,o as xe,g as ge,v as Te,w as ie,x as ne,e as H,y as Le,z as oe,A as se,a2 as Ue,p as de}from"../../../chunks/index-2e702491.js";import{e as Fe,a as pe,g as re,k as Ae,l as He,r as Je,n as Be,o as Me,p as qe,s as $e,d as Ve,E as Oe,c as Xe,i as ze,u as We,U as Ne,q as Ke,t as je,v as Qe,b as ae}from"../../../chunks/sweetalert.min-5fb91cdf.js";import{v as Ye}from"../../../chunks/v4-a960c1f4.js";function Ze(o){let e,l,a=JSON.stringify(o[0],null,2)+"",i;return{c(){e=m("div"),l=m("pre"),i=v(a),this.h()},l(n){e=_(n,"DIV",{class:!0});var r=b(e);l=_(r,"PRE",{});var u=b(l);i=D(u,a),u.forEach(p),r.forEach(p),this.h()},h(){S(e,"class","w-full")},m(n,r){T(n,e,r),d(e,l),d(l,i)},p(n,[r]){r&1&&a!==(a=JSON.stringify(n[0],null,2)+"")&&Y(i,a)},i:F,o:F,d(n){n&&p(e)}}}function et(o,e,l){let a;return C(o,Fe,i=>l(0,a=i)),[a]}class Re extends he{constructor(e){super(),me(this,e,et,Ze,_e,{})}}function tt(o){let e,l,a,i,n,r,u,s,c,w,N,J,I,E=JSON.stringify(o[0],null,2)+"",W,B,h,R,M,q,G,L=JSON.stringify(o[1],null,2)+"",U,$,t,f,g,X,z=JSON.stringify(o[2],null,2)+"",Z,ce,K,fe,ue,j,Q=JSON.stringify(o[3],null,2)+"",ee;return{c(){e=m("div"),l=m("h1"),a=v("Hello this is variables page"),i=V(),n=m("button"),r=v("Test Button"),u=V(),s=m("div"),c=m("div"),w=m("h4"),N=v("Global Editor Preferences"),J=V(),I=m("pre"),W=v(E),B=V(),h=m("div"),R=m("h4"),M=v("Global Visibility"),q=V(),G=m("pre"),U=v(L),$=V(),t=m("h4"),f=v("Global Right Panel Content Store"),g=V(),X=m("pre"),Z=v(z),ce=V(),K=m("h4"),fe=v("Global Left Panel Content Store"),ue=V(),j=m("pre"),ee=v(Q),this.h()},l(P){e=_(P,"DIV",{class:!0});var y=b(e);l=_(y,"H1",{class:!0});var Ee=b(l);a=D(Ee,"Hello this is variables page"),Ee.forEach(p),i=O(y),n=_(y,"BUTTON",{class:!0});var Pe=b(n);r=D(Pe,"Test Button"),Pe.forEach(p),y.forEach(p),u=O(P),s=_(P,"DIV",{class:!0});var te=b(s);c=_(te,"DIV",{class:!0});var le=b(c);w=_(le,"H4",{});var Se=b(w);N=D(Se,"Global Editor Preferences"),Se.forEach(p),J=O(le),I=_(le,"PRE",{});var ye=b(I);W=D(ye,E),ye.forEach(p),le.forEach(p),B=O(te),h=_(te,"DIV",{class:!0});var k=b(h);R=_(k,"H4",{});var we=b(R);M=D(we,"Global Visibility"),we.forEach(p),q=O(k),G=_(k,"PRE",{});var ke=b(G);U=D(ke,L),ke.forEach(p),$=O(k),t=_(k,"H4",{});var ve=b(t);f=D(ve,"Global Right Panel Content Store"),ve.forEach(p),g=O(k),X=_(k,"PRE",{});var De=b(X);Z=D(De,z),De.forEach(p),ce=O(k),K=_(k,"H4",{});var Ce=b(K);fe=D(Ce,"Global Left Panel Content Store"),Ce.forEach(p),ue=O(k),j=_(k,"PRE",{});var Ie=b(j);ee=D(Ie,Q),Ie.forEach(p),k.forEach(p),te.forEach(p),this.h()},h(){S(l,"class","text-2xl"),S(n,"class","btn btn-info"),S(e,"class","w-full"),S(c,"class",""),S(h,"class",""),S(s,"class","flex columns-0 lg:columns-2")},m(P,y){T(P,e,y),d(e,l),d(l,a),d(e,i),d(e,n),d(n,r),T(P,u,y),T(P,s,y),d(s,c),d(c,w),d(w,N),d(c,J),d(c,I),d(I,W),d(s,B),d(s,h),d(h,R),d(R,M),d(h,q),d(h,G),d(G,U),d(h,$),d(h,t),d(t,f),d(h,g),d(h,X),d(X,Z),d(h,ce),d(h,K),d(K,fe),d(h,ue),d(h,j),d(j,ee)},p(P,[y]){y&1&&E!==(E=JSON.stringify(P[0],null,2)+"")&&Y(W,E),y&2&&L!==(L=JSON.stringify(P[1],null,2)+"")&&Y(U,L),y&4&&z!==(z=JSON.stringify(P[2],null,2)+"")&&Y(Z,z),y&8&&Q!==(Q=JSON.stringify(P[3],null,2)+"")&&Y(ee,Q)},i:F,o:F,d(P){P&&p(e),P&&p(u),P&&p(s)}}}function lt(o,e,l){let a,i,n,r;return C(o,pe,u=>l(0,a=u)),C(o,re,u=>l(1,i=u)),C(o,Ae,u=>l(2,n=u)),C(o,He,u=>l(3,r=u)),[a,i,n,r]}class Ge extends he{constructor(e){super(),me(this,e,lt,tt,_e,{})}}function at(o){let e,l,a;var i=Ge;function n(r){return{}}return i&&(e=ie(i,n())),{c(){e&&ne(e.$$.fragment),l=H()},l(r){e&&Le(e.$$.fragment,r),l=H()},m(r,u){e&&oe(e,r,u),T(r,l,u),a=!0},p(r,u){if(i!==(i=Ge)){if(e){ge();const s=e;x(s.$$.fragment,1,0,()=>{se(s,1)}),be()}i?(e=ie(i,n()),ne(e.$$.fragment),A(e.$$.fragment,1),oe(e,l.parentNode,l)):e=null}},i(r){a||(e&&A(e.$$.fragment,r),a=!0)},o(r){e&&x(e.$$.fragment,r),a=!1},d(r){r&&p(l),e&&se(e,r)}}}function rt(o){let e,l,a;var i=Re;function n(r){return{}}return i&&(e=ie(i,n())),{c(){e&&ne(e.$$.fragment),l=H()},l(r){e&&Le(e.$$.fragment,r),l=H()},m(r,u){e&&oe(e,r,u),T(r,l,u),a=!0},p(r,u){if(i!==(i=Re)){if(e){ge();const s=e;x(s.$$.fragment,1,0,()=>{se(s,1)}),be()}i?(e=ie(i,n()),ne(e.$$.fragment),A(e.$$.fragment,1),oe(e,l.parentNode,l)):e=null}},i(r){a||(e&&A(e.$$.fragment,r),a=!0)},o(r){e&&x(e.$$.fragment,r),a=!1},d(r){r&&p(l),e&&se(e,r)}}}function it(o){let e;function l(n,r){return n[3]=="release"?ot:nt}let i=l(o)(o);return{c(){i.c(),e=H()},l(n){i.l(n),e=H()},m(n,r){i.m(n,r),T(n,e,r)},p(n,r){i.p(n,r)},i:F,o:F,d(n){i.d(n),n&&p(e)}}}function nt(o){let e,l;return{c(){e=m("iframe"),this.h()},l(a){e=_(a,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),b(e).forEach(p),this.h()},h(){S(e,"id","editorFrame"),Ue(e.src,l="/editor")||S(e,"src",l),S(e,"title","Editor"),S(e,"class"," svelte-1dxbx4d"),de(e,"--editorWidth",o[0].editorData.editorWidth)},m(a,i){T(a,e,i),o[9](e)},p(a,i){i&1&&de(e,"--editorWidth",a[0].editorData.editorWidth)},d(a){a&&p(e),o[9](null)}}}function ot(o){let e,l;return{c(){e=m("iframe"),this.h()},l(a){e=_(a,"IFRAME",{id:!0,src:!0,title:!0,class:!0,style:!0}),b(e).forEach(p),this.h()},h(){S(e,"id","editorFrame"),Ue(e.src,l="editor.html")||S(e,"src",l),S(e,"title","Editor"),S(e,"class"," svelte-1dxbx4d"),de(e,"--editorWidth",o[0].editorData.editorWidth)},m(a,i){T(a,e,i),o[8](e)},p(a,i){i&1&&de(e,"--editorWidth",a[0].editorData.editorWidth)},d(a){a&&p(e),o[8](null)}}}function st(o){let e,l,a,i;const n=[it,rt,at],r=[];function u(s,c){return s[2]==Oe.PAGE?0:s[2]==Oe.CODE?1:2}return l=u(o),a=r[l]=n[l](o),{c(){e=m("div"),a.c(),this.h()},l(s){e=_(s,"DIV",{id:!0});var c=b(e);a.l(c),c.forEach(p),this.h()},h(){S(e,"id","frame")},m(s,c){T(s,e,c),r[l].m(e,null),i=!0},p(s,[c]){let w=l;l=u(s),l===w?r[l].p(s,c):(ge(),x(r[w],1,1,()=>{r[w]=null}),be(),a=r[l],a?a.p(s,c):(a=r[l]=n[l](s),a.c()),A(a,1),a.m(e,null))},i(s){i||(A(a),i=!0)},o(s){x(a),i=!1},d(s){s&&p(e),r[l].d()}}}function dt(o,e,l){let a,i,n,r,u,s;C(o,Xe,t=>l(6,a=t)),C(o,pe,t=>l(0,i=t)),C(o,Fe,t=>l(7,n=t)),C(o,re,t=>l(11,r=t)),C(o,Ve,t=>l(12,u=t)),C(o,ze,t=>l(2,s=t));let c,w=i,N=u,J=w.build,I=!1;function E(){if(I==!0&&c!==null&&c!==void 0){const t={message:{componentCollection:n,editorPreferences:i,globalTheme:a}};c.contentWindow!=null&&c.contentWindow.postMessage(t,"*")}}let W="";function B(t){W!=""&&We(n,W,!1,null,"selected",Ne.SET,"")&&E(),l(4,N=t),We(n,t,!0,null,"selected",Ne.SET,"")&&E(),W=t}function h(t){let f={uuid:Ye().toString(),type:t.replace("element-",""),data:{},selected:!1,children:[]};switch(t.replace("element-","")){case"text":f.data={text:"Lorem ipsum...",class:"text-left ",htmltag:"span"};break}return f}function R(t,f){let g=h(f);Ke(n,t,g),E()}function M(t,f){let g=h(f);je(n,g,t),E()}function q(t,f){let g=h(f);Qe(n,g,t),E()}function G(){let t=r;switch(i.widgetPanelDisplayStyle){case ae.FIXEDLEFT:var g=t.left.widgetPanel??!1;for(var f in t.left)f=="widgetPanel"?t.left[f]=!g:t.left[f]=!1;t.right.widgetPanel=!1,t.default.widgetPanel=!1;break;case ae.FIXEDRIGHT:var g=t.right.widgetPanel??!1;for(var f in t.right)f=="widgetPanel"?t.right[f]=!g:t.right[f]=!1;t.left.widgetPanel=!1,t.default.widgetPanel=!1;break;default:t.default.widgetPanel=!t.default.widgetPanel,t.right.widgetPanel=!1,t.left.widgetPanel=!1;break}re.set(t)}function L(){let t=r;switch(i.optionPanelDisplayStyle){case ae.FIXEDLEFT:t.left.optionPanel;for(var f in t.left)f=="optionPanel"?t.left[f]=!0:t.left[f]=!1;t.right.optionPanel=!1,t.default.optionPanel=!1;break;case ae.FIXEDRIGHT:t.right.optionPanel;for(var f in t.right)f=="optionPanel"?t.right[f]=!0:t.right[f]=!1;t.left.optionPanel=!1,t.default.optionPanel=!1;break;default:t.default.optionPanel=!0,t.right.optionPanel=!1,t.left.optionPanel=!1;break}re.set(t)}xe(()=>{window.addEventListener("message",t=>{if(t.data)switch(t.data.action){case"selectElement":B(t.data.data.uuid);break;case"createDroppedElementInside":R(t.data.data.uuid,t.data.data.elementType);break;case"deleteElement":qe(n,t.data.data.uuid),E();break;case"toggleWidgetsPanel":G();break;case"openOptionsPanel":L();break;case"replaceDroppedElementInside":Me(n,t.data.data.thisUuid,t.data.data.insideUuid),E();break;case"replaceDroppedElementBefore":Be(n,t.data.data.thisUuid,t.data.data.beforeUuid),E();break;case"replaceDroppedElementAfter":Je(n,t.data.data.thisUuid,t.data.data.afterUuid),E();break;case"createDroppedElementBefore":M(t.data.data.beforeUuid,t.data.data.elementType);break;case"createDroppedElementAfter":q(t.data.data.afterUuid,t.data.data.elementType);break}}),l(5,I=!0),c.addEventListener("load",()=>{const t={message:{componentCollection:n,editorPreferences:i,globalTheme:a}};c.contentWindow!=null&&c.contentWindow.postMessage(t,"*")}),c.addEventListener("error",t=>{$e({title:"Error on Main Panel",text:t.error.toString(),icon:"error"})})});function U(t){Te[t?"unshift":"push"](()=>{c=t,l(1,c)})}function $(t){Te[t?"unshift":"push"](()=>{c=t,l(1,c)})}return o.$$.update=()=>{o.$$.dirty&16&&Ve.set(N),o.$$.dirty&33&&(i.theme,(()=>{if(I==!0){const f=window.document.querySelector("#theme-link");var t=i.theme!==void 0?i.theme:"dark";if(f)f.href="/themes/"+t+".css";else{const g=document.createElement("link");g.id="theme-link",g.rel="stylesheet",g.href="/themes/"+t+".css",window.document.head.appendChild(g)}}})()),o.$$.dirty&128&&E(),o.$$.dirty&64&&E()},pe.set(w),[i,c,s,J,N,I,a,n,U,$]}class pt extends he{constructor(e){super(),me(this,e,dt,st,_e,{})}}export{pt as default};
